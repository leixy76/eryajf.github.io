(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{449:function(t,s,e){"use strict";e.r(s);var n=e(0),a=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("br"),s("ArticleTopAd")],1),t._v(" "),s("p",[t._v("公司内部安卓与 iOS 打包是通过内部的一台 Mac mini 主机上部署的 Jenkins 完成的，一切都看起来非常优雅且自如。")]),t._v(" "),s("p",[t._v("我也正在忙自己的事情，突然一个开发小哥找过来，说发布过程有问题了，其中有一个步骤是在 Jenkins 中打完包之后，将包通过 scp 传到一台 centos 服务器上，从而提供给开发者进行下载。现在出现的问题是，scp 的时候让输入密码了。")]),t._v(" "),s("p",[t._v("对于客户端通过秘钥对儿来登陆服务器这事儿，对于我这个运维中年老司机来说，应该不是一个难事儿，无非也就那几种情况，于是我展开了问题排查的行动。")]),t._v(" "),s("p",[t._v("检查权限，重置秘钥对，重启客户端，重启服务端的 ssh，这些都试过了，仍旧于事无补。")]),t._v(" "),s("p",[t._v("我于是又做了对比实验：")]),t._v(" "),s("ul",[s("li",[t._v("将客户端公钥放到另一台 centos7 服务器上，发现能够直接免密登陆。")]),t._v(" "),s("li",[t._v("将另一个客户端的公钥放到 scp 对应的远程 centos7 服务器上，发现也能够正常免密登陆。")])]),t._v(" "),s("p",[t._v("现在问题奇怪了，各自都正常，唯独互相登陆的时候，总是让输密码。")]),t._v(" "),s("div",{staticClass:"custom-block note"},[s("p",{staticClass:"custom-block-title"},[t._v("申明")]),t._v(" "),s("p",[s("strong",[t._v("原创文章"),s("Badge",{attrs:{text:"eryajf"}}),t._v("，未经授权，严禁转载，侵权必究！此乃文中随机水印，敬请读者谅解。")],1)]),t._v(" "),s("div",{staticClass:"custom-block right"},[s("p",[t._v("Copyright  "),s("a",{attrs:{href:"https://wiki.eryajf.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("二丫讲梵"),s("OutboundLink")],1),t._v(" 版权所有")])])]),t._v(" "),s("p",[t._v("后来我又问了开发者，才了解到这两天有对系统做过升级，看了下新系统中的 ssh 版本为 9.0，而总让输入密码的服务器 ssh 版本为 6.6，比较老，于是立马升级了服务器的 ssh 版本：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yum -y update openssh\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("目前 yum 源中的 ssh 最新版本为 7.4，升级之后，再次执行登陆，一下子就成功了。")]),t._v(" "),s("p",[t._v("哎，又是陷在一个不太有价值，但是也耗费了不少时间的问题上，特此记录，特此记录。")]),t._v(" "),s("p",[s("img",{attrs:{src:"http://t.eryajf.net/imgs/2023/05/090da587d95bed42.jpg",alt:""}})]),t._v(" "),s("p",[s("br"),s("ArticleTopAd")],1)])}),[],!1,null,null,null);s.default=a.exports}}]);